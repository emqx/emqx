emqx_coap_schema {

coap.desc:
"""CoAP gateway settings.
Use this gateway to connect CoAP devices to EMQX MQTT messaging.
Protocol references: RFC 7252 and CoAP Pub/Sub draft:
https://core-wg.github.io/coap-pubsub/draft-ietf-core-pubsub.html"""

coap_connection_required.desc:
"""Whether clients must maintain a connection context.
  - false (default): stateless request/response.
  - true: client session must be created, authenticated, and kept alive.
Enable this only when your device flow depends on connection state."""

coap_heartbeat.desc:
"""Minimum heartbeat interval for connected clients.
Only used when <code>connection_required = true</code>.
If heartbeats are slower than this, the session can be treated as offline."""

coap_notify_type.desc:
"""CoAP message type used when forwarding messages from observed topics.<br/>
  - non: send NON (faster, no ACK)<br/>
  - con: send CON (reliable, needs ACK)<br/>
  - qos: auto map from MQTT QoS (QoS 0 -> NON, QoS 1/2 -> CON)"""

coap_publish_qos.desc:
"""Default MQTT QoS for CoAP publish requests when <code>qos</code> is not provided.<br/>
  - qos0 | qos1 | qos2: use a fixed QoS<br/>
  - coap: derive from message type (NON -> qos0, CON -> qos1)"""

coap_subscribe_qos.desc:
"""Default MQTT QoS for CoAP subscribe requests when <code>qos</code> is not provided.<br/>
  - qos0 | qos1 | qos2: use a fixed QoS<br/>
  - coap: derive from message type (NON -> qos0, CON -> qos1)"""

coap_blockwise.desc:
"""Settings for large payload transfer.
Block-wise transfer splits one large payload into smaller CoAP blocks.
Use defaults unless you see payload-size or packet-loss issues."""

coap_blockwise_enable.desc:
"""Enable block-wise transfer for large payloads.
Keep enabled unless all payloads are small and fixed."""

coap_blockwise_max_block_size.desc:
"""Size of each CoAP block in bytes.
Larger value: fewer packets, but retransmission cost is higher on loss.
Smaller value: more packets, but loss impact is smaller."""

coap_blockwise_max_body_size.desc:
"""Maximum final payload size after reassembly.
If exceeded, the message is rejected to protect memory."""

coap_blockwise_exchange_lifetime.desc:
"""How long temporary block-wise state is kept.
Too short can break slow transfers; too long consumes memory longer."""

}
