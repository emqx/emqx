Fix error that the following rule functions always return 'undefined'
 - msgid/0, qos/0, topic/0, topic/1, flags/0, flag/1,
 - clientid/0, username/0, peerhost/0, payload/0, payload/1.

These functions were correct in v4, but they were broken during the v5 refactor.
